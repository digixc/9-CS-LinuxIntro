<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>The art of redirection</title>
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<link rel="stylesheet" type="text/css" href="css/styles.css"/>
<link href='http://fonts.googleapis.com/css?family=Ubuntu+Mono|Ubuntu' rel='stylesheet' type='text/css'>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>
<script src="js/navbar.js" type="text/javascript"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">The art of redirection</h1>
  <div class="github-fork-ribbon-wrapper left">
    <div class="github-fork-ribbon">
      <a href="https://github.com/stsb11/9-CS-LinuxIntro">Fork me on GitHub</a>
    </div>
  </div>
<div id="stickyribbon">
    <ul>
      <li><a href="1_Lesson.html">Week1</a></li>
      <li><a href="2_Lesson.html">Week2</a></li>
      <li><a href="3_Lesson.html">Week3</a></li>
      <li><a href="4_Lesson.html">Week4</a></li>
      <li><a href="5_Lesson.html">Week5</a></li>
      <li><a href="6_Lesson.html">Week6</a></li>
    </ul>
  </div>
<div id="outline-container-sec-1" class="outline-2 objectives">
<h2 id="sec-1">Objectives</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-sec-1-1" class="outline-3 learn">
<h3 id="sec-1-1">Developing the <b>Programming and Development</b> learning strand, specifically:</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li>Can issue commands through a text based interface and recieve appropriate and correct responses.
</li>
<li>Executes, checks and changes programs. Understands that programs execute by following precise instructions.
</li>
<li>Knows that users can develop their own programs, and can demonstrate this by creating a simple program.
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2 activity">
<h2 id="sec-2">Introduction</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-sec-2-1" class="outline-3 learn">
<h3 id="sec-2-1">Learn It</h3>
<div class="outline-text-3" id="text-2-1">
<ul class="org-ul">
<li>Typing commands in the terminal leads to the result being shown on the terminal window. It doesn't have to be this way, though. We could redirect the output to somewhere else instead.
</li>
<li>In the 1970's, users may have wanted to output to a line printer instead.
</li>
<li>This doesn't tend to come up much in the 21st century, but you might want to put the output from the computer into a file, though.
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-2" class="outline-3 learn">
<h3 id="sec-2-2">Try It</h3>
<div class="outline-text-3" id="text-2-2">
<ul class="org-ul">
<li>Try this command:
</li>
</ul>
<pre class="example">
echo "This is some text"
</pre>
<ul class="org-ul">
<li><code>echo</code> simply prints some text to the display.
</li>
<li>By itself, this isn't very useful. We can use this to create and add content to text files, though.
</li>
</ul>
<pre class="example">
echo "This is some text." &gt; whatsit.txt
echo "This is a bit more text." &gt; whatsit.txt
</pre>
<ul class="org-ul">
<li>If you look, you'll see you just created a new file.
</li>
<li>If you do <code>cat whatsit.txt</code> or <code>emacs whatsit.txt</code> or even nano <code>whatsit.txt</code> you'll see the contents of the file.
</li>
<li>The redirect symbol <code>&gt;</code> tells Linux to put the result of whatever command comes before it into a new file. Unfortunately, this means over-writing the contents of the first <code>echo</code> command we did.
</li>
<li>Try this. <b>It's subtly different.</b>
</li>
</ul>
<pre class="example">
echo "This is some new text." &gt; whatsit.txt
echo "This is a little bit more text." &gt;&gt; whatsit.txt
</pre>
<ul class="org-ul">
<li>This time, in the second line we used <code>&gt;&gt;</code> instead of <code>&gt;</code>. This means to <b>append</b> (as in 'add to the end of') the file, rather than making a fresh one each time.
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-3" class="outline-3 try">
<h3 id="sec-2-3">Try It</h3>
<div class="outline-text-3" id="text-2-3">
<ul class="org-ul">
<li>You can type <code>history</code> to see (up to) the last 500 commands you've entered. Try it.
</li>
<li>It'd be nice to keep this to have a record of what you've done in the past. I've been using Linux for a while, and still look over my own history from time to time; it's handy to refer back to.
</li>
<li><b>Task:</b> Redirect the contents of the history command into a file called <code>recentHistory.txt</code>
</li>
<li>If you're struggling with this, the video below shows some practical examples:
</li>
</ul>
<iframe width="650" height="393" src="https://www.youtube.com/embed/e00wQU78fAE" frameborder="0" allowfullscreen></iframe>
</div>
</div>
<div id="outline-container-sec-2-4" class="outline-3 try">
<h3 id="sec-2-4">Learn It</h3>
<div class="outline-text-3" id="text-2-4">
<ul class="org-ul">
<li>Your <code>recentHistory.txt</code> file probably has quite a lot in it.
</li>
<li>In Linux, files can get very big, very fast.
</li>
<li>To see the first 10 lines in any file, use the <code>head</code> program, like this:
</li>
</ul>
<pre class="example">
head recentHistory.txt
</pre>
<ul class="org-ul">
<li>What do you suppose the <code>tail</code> program does when you give it a file?
</li>
<li><b>Task:</b> Find out what <code>tail</code> does.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-2-5" class="outline-3 code">
<h3 id="sec-2-5">Pipe It</h3>
<div class="outline-text-3" id="text-2-5">

<div class="figure">
<p><img src="./img/pipe.jpg" alt="pipe.jpg" />
</p>
</div>
<ul class="org-ul">
<li>To be a proper Linux pro, you'll want to start using pipes.
</li>
<li>The basic idea is that you run a program, then pass the results to another program (and maybe another and another&#x2026;)
</li>
<li>Being able to do this makes Linux incredibly powerful, especially if you're quite creative.
</li>
<li>Let's try an example: You're running out of space on your computer, and you want to know which files are taking up the most room so you can delete them.
</li>
<li>The <code>du</code> command tells you how much disk space every file and sub-directory is using from wherever you are on the computer.
</li>
<li>If you're in <code>/</code> (the root) when you start, you'll see the details for <b>EVERY</b> file on the computer. This might take a while to run, though&#x2026; 
</li>
<li>Change into a directory with a few files in it (like your 'My Documents' directory, and give it a go. You can always hit Ctrl-c to kill the program if it takes too long.
</li>
<li>By itself, this command gives an overwhelming amount of information, presented in ascending (smallest to largest) order.
</li>
<li>The pipe symbol ( <code>|</code> ) takes the output from one program, and sends it into another. You can chain lots of these together to achieve sophisticated results.
</li>
</ul>


<ul class="org-ul">
<li>The <code>sort</code> command takes any file and sorts it into either asecending or descending order. By putting <code>-nr</code> on the end of the command, we ask the <code>sort</code> program to use numeric values (<code>n</code>) and reverse (<code>r</code>) the sort order. 
</li>
<li>In our quest to find the largest files on the system, at least they'll appear in the right order now, although there are likely to be millions of files.
</li>
<li>Try it: 
</li>
</ul>
<pre class="example">
cd /
du | sort -nr
</pre>
<ul class="org-ul">
<li>This time, there will be a bit of a delay while the computer browses the files available and sorts them, then your enormous list of files will be output. 
</li>
<li>Finally, we can take this output and just ask to see the first 10 results by piping the output through <code>head</code>&#x2026;
</li>
</ul>
<pre class="example">
du | sort -nr | head
</pre>
<ul class="org-ul">
<li>These filesizes are all in bytes. If we add a <code>-h</code> after the <code>du</code> command, it'll be presented in a human-readable format (i.e. showing files in kilbytes, megabytes and so on). 
</li>
<li>Many Linux command-line programs can be given parameters like this to modify how they work. 
</li>
<li>Linux has a built in manual that you can use to find out more about any command you're using. Type <code>man more</code> for instance, to see more information avout the <code>more</code> command. 
</li>
<li>When browsing <code>man</code> pages, use the space bar to move forward a whole page, or the up/down arrows to move one line at a time. Tap <code>q</code> to quit.
</li>
<li>You can watch a short demo of different ways to use pipes here.
</li>
</ul>
<iframe width="650" height="393" src="https://www.youtube.com/embed/5BmthF8lK6I" frameborder="0" allowfullscreen></iframe>
</div>
</div>
<div id="outline-container-sec-2-6" class="outline-3 badge">
<h3 id="sec-2-6">Badge It</h3>
<div class="outline-text-3" id="text-2-6">
<ul class="org-ul">
<li><b>Silver:</b> Using the terminal, <code>cd</code> into your <code>My Documents</code> directory. Redirect the contents of your 'My documents' directory into a text file called <code>silver.txt</code>. Upload the file to BourneToLearn. 
</li>
</ul>


<ul class="org-ul">
<li><b>Gold:</b> The <code>ps aux</code> command shows a list of every program running on your Linux machine. Redirect the <b>last 10 items</b> from the output from this command into a text file called <code>goldbadge.txt</code>. Save it, and upload it. 
</li>
</ul>


<ul class="org-ul">
<li><b>Platinum:</b> Produce a file called <code>platinum.txt</code>. 
<ul class="org-ul">
<li>Put your command history in it&#x2026;
</li>
<li>In reverse order&#x2026;
</li>
<li>Showing only the first 10 and last <b>20</b> commands entered.
</li>
<li>Extra credit if you can do it all in a single command!
</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="validation"></p>
</div>
</body>
</html>
